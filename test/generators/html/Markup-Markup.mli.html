<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Source: Markup.mli (Markup)</title><link rel="stylesheet" href="odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/></head><body class="odoc-src"><pre><code><span><span id="L1" class="source_line"></span>(** Here, we test the rendering of comment markup. <span class="DOCSTRING">*)</span><span class="EOL">
</span><span class="EOL"><span id="L2" class="source_line"></span>
</span><span class="EOL"><span id="L3" class="source_line"></span>
</span><span id="L4" class="source_line"></span>(** {1 Sections}
<span id="L5" class="source_line"></span>
<span id="L6" class="source_line"></span>    Let's get these done first, because sections will be used to break up the
<span id="L7" class="source_line"></span>    rest of this test.
<span id="L8" class="source_line"></span>
<span id="L9" class="source_line"></span>    Besides the section heading above, there are also
<span id="L10" class="source_line"></span>
<span id="L11" class="source_line"></span>    {2 Subsection headings}
<span id="L12" class="source_line"></span>
<span id="L13" class="source_line"></span>    and
<span id="L14" class="source_line"></span>
<span id="L15" class="source_line"></span>    {3 Sub-subsection headings}
<span id="L16" class="source_line"></span>
<span id="L17" class="source_line"></span>    but odoc has banned deeper headings. There are also title headings, but they
<span id="L18" class="source_line"></span>    are only allowed in mld files.
<span id="L19" class="source_line"></span>
<span id="L20" class="source_line"></span>    {3:anchors Anchors}
<span id="L21" class="source_line"></span>
<span id="L22" class="source_line"></span>    Sections can have attached {!anchors}, and it is possible to {{!anchors}
<span id="L23" class="source_line"></span>    link} to them. Links to section headers should not be set in source code
<span id="L24" class="source_line"></span>    style.
<span id="L25" class="source_line"></span>
<span id="L26" class="source_line"></span>    {4 Paragraph}
<span id="L27" class="source_line"></span>
<span id="L28" class="source_line"></span>    Individual paragraphs can have a heading.
<span id="L29" class="source_line"></span>
<span id="L30" class="source_line"></span>    {5 Subparagraph}
<span id="L31" class="source_line"></span>
<span id="L32" class="source_line"></span>    Parts of a longer paragraph that can be considered alone can also have
<span id="L33" class="source_line"></span>    headings.
<span id="L34" class="source_line"></span>
<span id="L35" class="source_line"></span>
<span id="L36" class="source_line"></span>    {1 Styling}
<span id="L37" class="source_line"></span>
<span id="L38" class="source_line"></span>    This paragraph has some styled elements: {b bold} and {i italic},
<span id="L39" class="source_line"></span>    {b {i bold italic}}, {e emphasis}, {e {e emphasis} within emphasis},
<span id="L40" class="source_line"></span>    {b {i bold italic}}, super{^script}, sub{_script}. The line spacing should
<span id="L41" class="source_line"></span>    be enough for superscripts and subscripts not to look odd.
<span id="L42" class="source_line"></span>
<span id="L43" class="source_line"></span>    Note: {i In italics {e emphasis} is rendered as normal text while {e
<span id="L44" class="source_line"></span>    emphasis {e in} emphasis} is rendered in italics.} {i It also work the same
<span id="L45" class="source_line"></span>    in {{:#} links in italics with {e emphasis {e in} emphasis}.}}
<span id="L46" class="source_line"></span>
<span id="L47" class="source_line"></span>    [code] is a different kind of markup that doesn't allow nested markup.
<span id="L48" class="source_line"></span>
<span id="L49" class="source_line"></span>    It's possible for two markup elements to appear {b next} {i to} each other
<span id="L50" class="source_line"></span>    and have a space, and appear {b next}{i to} each other with no space. It
<span id="L51" class="source_line"></span>    doesn't matter {b how}  {i much} space it was in the source: in this
<span id="L52" class="source_line"></span>    sentence, it was two space characters. And in this one, there is {b a}
<span id="L53" class="source_line"></span>    {i newline}.
<span id="L54" class="source_line"></span>
<span id="L55" class="source_line"></span>    This is also true between {e non-}[code] markup {e and} [code].
<span id="L56" class="source_line"></span>
<span id="L57" class="source_line"></span>    Code can appear {b inside [other] markup}. Its display shouldn't be
<span id="L58" class="source_line"></span>    affected.
<span id="L59" class="source_line"></span>
<span id="L60" class="source_line"></span>
<span id="L61" class="source_line"></span>    {1 Links and references}
<span id="L62" class="source_line"></span>
<span id="L63" class="source_line"></span>    This is a {{:#} link}. It sends you to the top of this page. Links can have
<span id="L64" class="source_line"></span>    markup inside them: {{:#} {b bold}}, {{:#} {i italics}},
<span id="L65" class="source_line"></span>    {{:#} {e emphasis}}, {{:#} super{^script}}, {{:#} sub{_script}}, and
<span id="L66" class="source_line"></span>    {{:#} [code]}. Links can also be nested {e {{:#} inside}} markup. Links
<span id="L67" class="source_line"></span>    cannot be nested inside each other. This link has no replacement text:
<span id="L68" class="source_line"></span>    {{:#}}. The text is filled in by odoc. This is a shorthand link: {:#}. The
<span id="L69" class="source_line"></span>    text is also filled in by odoc in this case.
<span id="L70" class="source_line"></span>
<span id="L71" class="source_line"></span>    This is a reference to {!foo}. References can have replacement text:
<span id="L72" class="source_line"></span>    {{!foo} the value foo}. Except for the special lookup support, references
<span id="L73" class="source_line"></span>    are pretty much just like links. The replacement text can have nested
<span id="L74" class="source_line"></span>    styles: {{!foo} {b bold}}, {{!foo} {i italic}}, {{!foo} {e emphasis}},
<span id="L75" class="source_line"></span>    {{!foo} super{^script}}, {{!foo} sub{_script}}, and {{!foo} [code]}. It's
<span id="L76" class="source_line"></span>    also possible to surround a reference in a style: {b {!foo}}. References
<span id="L77" class="source_line"></span>    can't be nested inside references, and links and references can't be nested
<span id="L78" class="source_line"></span>    inside each other.
<span id="L79" class="source_line"></span>
<span id="L80" class="source_line"></span>
<span id="L81" class="source_line"></span>    {1 Preformatted text}
<span id="L82" class="source_line"></span>
<span id="L83" class="source_line"></span>    This is a code block:
<span id="L84" class="source_line"></span>
<span id="L85" class="source_line"></span>    {[
<span id="L86" class="source_line"></span>        let foo = ()
<span id="L87" class="source_line"></span>        (** There are some nested comments in here, but an unpaired comment
<span id="L88" class="source_line"></span>            terminator would terminate the whole doc surrounding comment. It's
<span id="L89" class="source_line"></span>            best to keep code blocks no wider than 72 characters. *)
<span id="L90" class="source_line"></span>
<span id="L91" class="source_line"></span>        let bar =
<span id="L92" class="source_line"></span>          ignore foo
<span id="L93" class="source_line"></span>    ]}
<span id="L94" class="source_line"></span>
<span id="L95" class="source_line"></span>    There are also verbatim blocks:
<span id="L96" class="source_line"></span>
<span id="L97" class="source_line"></span>{v
<span id="L98" class="source_line"></span>The main difference is these don't get syntax highlighting.
<span id="L99" class="source_line"></span>v}
<span id="L100" class="source_line"></span>
<span id="L101" class="source_line"></span>
<span id="L102" class="source_line"></span>    {1 Lists}
<span id="L103" class="source_line"></span>
<span id="L104" class="source_line"></span>    - This is a
<span id="L105" class="source_line"></span>    - shorthand bulleted list,
<span id="L106" class="source_line"></span>    - and the paragraphs in each list item support {e styling}.
<span id="L107" class="source_line"></span>
<span id="L108" class="source_line"></span>    + This is a
<span id="L109" class="source_line"></span>    + shorthand numbered list.
<span id="L110" class="source_line"></span>
<span id="L111" class="source_line"></span>    - Shorthand list items can span multiple lines, however trying to put two
<span id="L112" class="source_line"></span>      paragraphs into a shorthand list item using a double line break
<span id="L113" class="source_line"></span>
<span id="L114" class="source_line"></span>      just creates a paragraph outside the list.
<span id="L115" class="source_line"></span>
<span id="L116" class="source_line"></span>    - Similarly, inserting a blank line between two list items
<span id="L117" class="source_line"></span>
<span id="L118" class="source_line"></span>    - creates two separate lists.
<span id="L119" class="source_line"></span>
<span id="L120" class="source_line"></span>    {ul
<span id="L121" class="source_line"></span>      {li To get around this limitation, one
<span id="L122" class="source_line"></span>
<span id="L123" class="source_line"></span>          can use explicitly-delimited lists.}
<span id="L124" class="source_line"></span>      {li This one is bulleted,}}
<span id="L125" class="source_line"></span>
<span id="L126" class="source_line"></span>    {ol {li but there is also the numbered variant.}}
<span id="L127" class="source_line"></span>
<span id="L128" class="source_line"></span>    {ul
<span id="L129" class="source_line"></span>      {li
<span id="L130" class="source_line"></span>        {ul
<span id="L131" class="source_line"></span>          {li lists}
<span id="L132" class="source_line"></span>          {li can be nested}
<span id="L133" class="source_line"></span>          {li and can include references}
<span id="L134" class="source_line"></span>          {li {!foo}}}}}
<span id="L135" class="source_line"></span>
<span id="L136" class="source_line"></span>
<span id="L137" class="source_line"></span>    {1 Unicode}
<span id="L138" class="source_line"></span>
<span id="L139" class="source_line"></span>    The parser supports any ASCII-compatible encoding, in particuλar UTF-8.
<span id="L140" class="source_line"></span>
<span id="L141" class="source_line"></span>
<span id="L142" class="source_line"></span>    {1 Raw HTML}
<span id="L143" class="source_line"></span>
<span id="L144" class="source_line"></span>    Raw HTML can be {%html:&lt;input type=&quot;text&quot; placeholder=&quot;inserted&quot;&gt;%} as
<span id="L145" class="source_line"></span>    inline elements into sentences.
<span id="L146" class="source_line"></span>
<span id="L147" class="source_line"></span>    {%html:
<span id="L148" class="source_line"></span>    &lt;blockquote&gt;
<span id="L149" class="source_line"></span>      If the raw HTML is the only thing in a paragraph, it is treated as a block
<span id="L150" class="source_line"></span>      element, and won't be wrapped in paragraph tags by the HTML generator.
<span id="L151" class="source_line"></span>    &lt;/blockquote&gt;
<span id="L152" class="source_line"></span>    %}
<span id="L153" class="source_line"></span>
<span id="L154" class="source_line"></span>
<span id="L155" class="source_line"></span>    {1 Math}
<span id="L156" class="source_line"></span>
<span id="L157" class="source_line"></span>    Math elements can be inline: {m \int_{-\infty}^\infty}, or blocks:
<span id="L158" class="source_line"></span>
<span id="L159" class="source_line"></span>    {math
<span id="L160" class="source_line"></span>    % \f is defined as #1f(#2) using the macro
<span id="L161" class="source_line"></span>    \newcommand{\f}[2]{#1f(#2)}
<span id="L162" class="source_line"></span>    \f\relax{x} = \int_{-\infty}^\infty
<span id="L163" class="source_line"></span>    \f\hat\xi\,e^{2 \pi i \xi x}
<span id="L164" class="source_line"></span>    \,d\xi
<span id="L165" class="source_line"></span>    }
<span id="L166" class="source_line"></span>
<span id="L167" class="source_line"></span>
<span id="L168" class="source_line"></span>    {1 Modules}
<span id="L169" class="source_line"></span>
<span id="L170" class="source_line"></span>    {!modules: X}
<span id="L171" class="source_line"></span>    {!modules: X Y}
<span id="L172" class="source_line"></span>
<span id="L173" class="source_line"></span>
<span id="L174" class="source_line"></span>    {1 Tags}
<span id="L175" class="source_line"></span>
<span id="L176" class="source_line"></span>    Each comment can end with zero or more tags. Here are some examples:
<span id="L177" class="source_line"></span>
<span id="L178" class="source_line"></span>    @author antron
<span id="L179" class="source_line"></span>    @deprecated a {e long} time ago
<span id="L180" class="source_line"></span>    @param foo unused
<span id="L181" class="source_line"></span>    @raise Failure always
<span id="L182" class="source_line"></span>    @return never
<span id="L183" class="source_line"></span>    @see &lt;#&gt; this url
<span id="L184" class="source_line"></span>    @see 'foo.ml' this file
<span id="L185" class="source_line"></span>    @see &quot;Foo&quot; this document
<span id="L186" class="source_line"></span>    @since 0
<span id="L187" class="source_line"></span>    @before 1.0 it was in b{^e}t{_a}
<span id="L188" class="source_line"></span>    @version -1 <span class="DOCSTRING">*)</span><span class="EOL">
</span><span class="EOL"><span id="L189" class="source_line"></span>
</span><span class="VAL"><span id="L190" class="source_line"></span>val</span> <span class="LIDENT">foo</span> <span class="COLON">:</span> <span class="LIDENT">unit</span><span class="EOL">
</span><span id="L191" class="source_line"></span>(** Comments in structure items {b support} {e markup}, t{^o}{_o}. <span class="DOCSTRING">*)</span><span class="EOL">
</span><span class="EOL"><span id="L192" class="source_line"></span>
</span><span id="L193" class="source_line"></span>(** Some modules to support references. <span class="DOCSTRING">*)</span><span class="EOL">
</span><span class="EOL"><span id="L194" class="source_line"></span>
</span><span class="MODULE"><span id="L195" class="source_line"></span>module</span> <span class="UIDENT">X</span> <span class="COLON">:</span> <span class="SIG">sig</span> <span class="END">end</span><span class="EOL">
</span><span class="MODULE"><span id="L196" class="source_line"></span>module</span> <span class="UIDENT">Y</span> <span class="COLON">:</span> <span class="SIG">sig</span> <span class="END">end</span><span class="EOL">
</span></span></code></pre></body></html>